<!DOCTYPE html>
<html>
<head>
    <title>Library Management</title>
</head>
<body>

<h2>Library Management System</h2>

<label>Book Title:</label>
<input type="text" id="title"><br><br>

<label>Publication Year:</label>
<input type="text" id="year"><br><br>

<button id="addBook">Add Book</button>

<br><br>

<table border="1" id="bookTable">
    <tr>
        <th>Title</th>
        <th>Year</th>
    </tr>
</table>

<script>
document.getElementById("addBook").addEventListener("click", function() {
    const title = document.getElementById("title").value.trim();
    const year = document.getElementById("year").value.trim();
    const currentYear = new Date().getFullYear();
    const titleRegex = /^[A-Za-z]+$/;
    const yearRegex = /^[0-9]{4}$/;

    if (!title || !titleRegex.test(title)) {
        alert("Title must contain alphabetic characters only.");
        return;
    }

    if (!yearRegex.test(year) || year < 1900 || year > currentYear) {
        alert("Enter a valid 4-digit year between 1900 and " + currentYear);
        return;
    }

    const table = document.getElementById("bookTable");
    const row = table.insertRow(-1);
    const c1 = row.insertCell(0);
    const c2 = row.insertCell(1);

    c1.innerHTML = title;
    c2.innerHTML = year;

    if (year < 2000) {
        row.style.backgroundColor = "#d3d3d3";
    } else {
        row.style.backgroundColor = "#90ee90";
    }

    document.getElementById("title").value = "";
    document.getElementById("year").value = "";
});
</script>

</body>
</html>
